<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript Prototype</title>
</head>
<body>
<h1>prototype 생성</h1>
<script>
    function Dog(color, name, age) { // 개에 관한 생성자 함수 작성
        this.color = color; // 색에 관한 프로퍼티
        this.name = name; //이름에 관한 프로퍼티
        this.age = age; // 나이에 관한 프로퍼티
    }

    var myDog = new Dog('갈색', '수지', 7); // 이 객체는 Dog라는 프로토타입을 가짐
    document.write("우리 집 강아지는 " + myDog.name + "라는 이름의 " + myDog.color + "털이 매력적인 강아지 입니다.");
</script>

<h1>객체에 프로퍼티 및 메소드 추가</h1>
<script>
    myDog.family = "시베리안 허스키";
    myDog.breed = function () { // 품종에 관한 프로퍼티 추가
        return this.color + " " + this.family; // 털생을 포함한 품종을 반환해 주는 메소드를 추가함.
    };
    document.write("우리집 강아지는 " + myDog.breed() + "입니다");
</script>
<h1>prototype 프로퍼티</h1>
<script>
    // 헌재 존재하고 있는 Dog 프로토타입에 family 프로퍼티를 추가함
    Dog.prototype.family = "시베리안 허스키";
    // 현재 존재하고 있는 Dog 프로토타입에 breed 메소드를 추가함.
    Dog.prototype.breed = function () {
        return this.color + " " + this.family;
    };
    var myDog = new Dog("흰색", "마루", 1);
    var hisDog = new Dog("갈색", "콩이", 3);

    document.write("우리집 강아지는 " + myDog.family + "이고, 친구네 집 강아지도 " + hisDog.family + "입니다");
    document.write("우리집 강아지의 품종은 " + myDog.breed() + "입니다.<br>");
    document.write("친구네 집 강아지의 품종은 " + hisDog.breed() + "입니다.<br>");
</script>
<h1>delete 키워드를 사용하여 프로퍼티를 삭제</h1>
<script>
    delete myDog.age; // age 프로퍼티를 삭제함.
    document.write("우리집 강아지의 나이는 " + myDog.age + "입니다");
</script>
<h1>객체 프로퍼티의 순회</h1>
<script>
    function Dog(color, name, age) { // 개에 관한 생성자 함수 작성
        this.color = color; // 색에 관한 프로퍼티
        this.name = name; //이름에 관한 프로퍼티
        this.age = age; // 나이에 관한 프로퍼티
    }

    var myDog = new Dog('갈색', '수지', 7); // 이 객체는 Dog라는 프로토타입을 가짐
    // color 프로퍼티의 enumerable 속성을 false로 설정함
    Object.defineProperty(myDog, 'color', {enumerable: false});
    // 객체가 가진 고유 프로퍼티 중에서 열거할 수 있는 프로퍼티 이름을 배열에 담아 반환함.
    document.write(Object.keys(myDog) + "<br>"); // name, age
    // 객체가 가진 모든 고유 프로퍼티의 이름을 배열에 담아 반환함.
    document.write(Object.getOwnPropertyNames(myDog)); // color, name, age
</script>
<h1>객체간의 비교</h1>

<script>
    function Dog(color, name, age) { // 개에 관한 생성자 함수 작성
        this.color = color; // 색에 관한 프로퍼티
        this.name = name; //이름에 관한 프로퍼티
        this.age = age; // 나이에 관한 프로퍼티
    }

    var myDog = new Dog('갈색', '수지', 7);
    var hisDog = new Dog('흰색', '마루', 1);
    document.write((myDog == hisDog) + '<br>');
    document.write((myDog === hisDog) + '<br>');

    var herDog = hisDog;
    document.write((herDog == hisDog) + '<br>');
    document.write((herDog === hisDog) + '<br>');
    /*
    * 위의 예제에서는 변수 herDog에 hisDog 객체를 대입합니다.
    * 이렇게 객체를 대입한 변수를 객체 레퍼런스(object reference)라고 하며, 이제부터 변수 herDog은 hisDog 객체를 가리키게 됩니다.
    * 즉, 객체 레퍼런스는 객체 자체를 저장하는 것이 아니라, 객체가 위치한 주소를 저장하는 것입니다.
    * 따라서 변수 herDog과 hisDog을 동등 연산자와 일치 연산자로 비교하면, 모두 true를 반환하게 됩니다.
    * */

</script>
<hr>
<h1>
    객체 프로퍼티와 메소드
</h1>
<h2>객체 프로퍼티(property)</h2>
<p>모든 자바스크립트 객체는 Object 객체와 Object.prototype 객체의 모든 프로퍼티를 상속받습니다.<br>
    prototype 프로퍼티를 이용하면 현재 존재하는 프로토타입에 새로운 프로퍼티나 메소드를 손쉽게 추가할 수 있습니다.<br>

    자바스크립트의 prototype 프로퍼티에 대한 더 자세한 사항은 자바스크립트 프로토타입 수업에서 확인할 수 있습니다.<br>
</p>
<h2>객체 메소드</h2>
<p>
    모든 자바스크립트 객체는 Object 객체와 Object.prototype 객체의 모든 프로퍼티와 메소드를 상속받습니다.<br>
    자주 사용되는 대표적인 객체 메소드는 다음과 같습니다.<br><br>

    1. hasOwnProperty()<br>
    2. propertyIsEnumerable()<br>
    3. isPrototypeOf()<br>
    4. isExtensible()<br>
    5. toString()<br>
    6. valueOf()<br>
</p>
<h2>hasOwnProperty() 메소드</h2>
<p>hasOwnProperty() 메소드는 특정 프로퍼티가 해당 객체에 <b>존재하는지</b>를 검사합니다.<br>
    해당 객체에서 직접 선언된 프로퍼티만을 검사하며, 같은 이름의 프로퍼티라도 상속받은 프로퍼티는 false값을 반환합니다.</p>
<script>
    function Dog(color, name, age, family) {
        this.color = color;
        this.name = name;
        this.age = age;
        this.family = family;
        this.breed = function () {
            return this.color + " " + this.family;
        }
    }

    var myDog = new Dog('흰색', '수민', 3, '시츄');
    document.write(myDog.hasOwnProperty('color') + '<br>'); // true
    document.write(myDog.hasOwnProperty('breed') + '<br>'); // true
    document.write(myDog.hasOwnProperty('class') + '<br>'); // false
</script>
<h2>propertyIsEnumerable() 메소드</h2>
<p>propertyIsEnumerable() 메소드는 특정 프로퍼티가 해당 객체에 존재하고, 열거할 수 있는 프로퍼티인지를 검사합니다.<br>
    즉, 이 메소드는 hasOwnProperty() 메소드의 결과가 true이면서, 동시에 열거할 수 있는 프로퍼티인지를 검사합니다.</p>
<script>
    function Dog(color, name, age) {
        this.color = color;
        this.name = name;
        this.age = age;
    }

    var myDog = new Dog('흰색', '수민', 3);
    // color 프로퍼티의
    Object.defineProperty(myDog, 'color', {enumerable: false});
    document.write(myDog.propertyIsEnumerable("color") + "<br>");
    document.write(myDog.propertyIsEnumerable("name") + "<br>");
    document.write(myDog.propertyIsEnumerable("age"));
</script>
<h2>isPrototypeOf() 메소드</h2>
<p>
    isPrototypeOf() 메소드는 특정 객체의 프로토타입 체인에 현재 객체가 존재하는지를 검사합니다.
</p>
<script>
    var day = new Date(); // Date 객체를 생성함
    // 객체 day 의 프로토타입이 Date.protype인지를 검사함.
    document.write(Date.prototype.isPrototypeOf(day) +'<br>');
    document.write(Date.prototype.isPrototypeOf(new String));
</script>
<h2>isExtensible() 메소드</h2>
<p>
    isExtensible() 메소드는 객체에 새로운 프로퍼티를 추가할 수 있는지 여부를 반환합니다.<br>
<br>
    자바스크립트에서 모든 객체는 기본적으로 새로운 프로퍼티를 추가할 수 있습니다.<Br>
    하지만 preventExtensions() 메소드를 사용하여 해당 객체에 새로운 프로퍼티를 추가할 수 없도록 설정할 수 있습니다<br>
</p>
<script>
var day = new Date(); // Date객체를 생성
    // 객체 day에 새로운 프로퍼티를 추가할 수 있는지 검사함.
    document.write(Object.isExtensible(day)+'<br>');

// 해당 객체에 새로운 프로퍼티를 푸가할 수 없도록 설정함.
    var myDay = Object.preventExtensions(day);
    document.write(Object.isExtensible(day)+'<br>');
</script>
<h2>toString() 메소드</h2>
<p>toString() 메소드는 이 메소드를 호출한 객체의 값을 문자열로 반환합니다.</p>
<script>
    var arr=[10,"문자열",true]; // 배열
    var bool = false;
    function func() {
        return 0;
    }
    document.write(arr.toString()+'<br>');
    document.write(bool.toString()+'<br>');
    document.write(func.toString()+'<br>');
</script>
<h2></h2>
</body>
</html>